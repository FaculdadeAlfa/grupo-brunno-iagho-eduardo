<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:pe="http://primefaces.org/ui/extensions">

	<div class="ContainerIndent">
		<p:panel>
			<div class="Container100 Responsive">
				<div class="ContainerIndent TexAlCenter">
					<h:outputText value="#{label['perfil.cadastro']}"
						styleClass="FontBold Fs18 hardblue"></h:outputText>
				</div>
				<p:messages showDetail="false" autoUpdate="true" closable="true" />
			</div>
			<p:fieldset legend="#{label['perfil.cadastro']}" styleClass="Responsive"
				toggleable="true">
				<div class="Container100 Responsive">
					<div class="ContainerIndent">
						<h:panelGrid columns="2" cellpadding="5" style="min-width:50%">
							<p:outputLabel value="#{label['nome']} :" for="nome" />
							<p:inputText id="nome" value="#{perfilView.entidade.nome}"
								size="70" maxlength="50" required="true"
								requiredMessage="NOME é obrigatório" />

							<p:outputLabel value="#{label['perfil.pai']} :" for="idPerfilPai" />
							<p:selectOneMenu id="idPerfilPai"
								value="#{perfilView.entidade.pai}" style="min-width:300px;"
								converter="#{modelSelectConverter}">
								<f:selectItem itemLabel=" - #{label['selecione']} -"
									itemValue="#{null}" />
								<f:selectItems value="#{perfilView.lista}" var="perfil"
									itemLabel="#{perfil.nome}" itemValue="#{perfil}" />
							</p:selectOneMenu>

							<p:outputLabel value="Lista de Permissões" />
							<p:pickList value="#{perfilView.dualListPermissoes}" var="per"
								itemLabel="[#{per.id}] #{per.nome}" itemValue="#{per}"
								converter="#{modelPicklistConverter}"
								styleClass="ui-picklist-sentinel" />
						</h:panelGrid>
					</div>
				</div>
			</p:fieldset>
			<p />
			<p:panel>
                <p:commandButton title="#{label['cancelar']}" immediate="true"
                                 icon="fa icon-cancel Fs16 white" value="#{label['cancelar']}"
                                 action="#{perfilView.init()}"
                                 update="@form" style="margin-left:10%" styleClass="redButton">
                    <pe:selectDetailLevel step="-1"/>
                </p:commandButton>

				<p:commandButton title="#{label['adicionar']}"
					icon="fa icon-ok Fs16 white" styleClass="greenButton Fright20"
					value="#{label['adicionar']}" update="@form"
					actionListener="#{perfilView.adicionar}"
					rendered="#{perfilView.entidade.id eq null}">
					<f:setPropertyActionListener
						target="#{perfilView.dualListPermissoes}"
						value="#{perfilView.dualListPermissoes}" />
					<pe:selectDetailLevel step="-1" />
				</p:commandButton>

				<p:commandButton title="#{label['atualizar']}"
					icon="fa icon-ok Fs16 white" value="#{label['atualizar']}"
					update="@form" styleClass="greenButton Fright20"
					rendered="#{perfilView.entidade.id ne null}"
					actionListener="#{perfilView.atualizar}">
					<pe:selectDetailLevel step="-1" />
					<f:setPropertyActionListener
						target="#{perfilView.dualListPermissoes}"
						value="#{perfilView.dualListPermissoes}" />
				</p:commandButton>
			</p:panel>
		</p:panel>
	</div>
</ui:composition>